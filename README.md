这是一个基于STM32F103R6平台开发的智能避障小车项目代码（拟真软件），使用了超声波传感器、DC电机、蜂鸣器、LCD1602显示屏和串口通讯等模块。代码的核心逻辑是通过超声波传感器检测前方距离，结合按键或串口控制实现小车的前进、后退、左转、右转和停止功能，同时支持自动避障功能。

项目分析：
1. 模块初始化
GPIO引脚初始化：小车的各个传感器和电机都通过GPIO引脚连接到STM32微控制器。引脚初始化配置了输入和输出模式，分别控制蜂鸣器、超声波传感器的发射和接收，以及与LCD1602显示屏通信等。
ctrl_pin_init() 函数用于初始化小车的控制引脚，配置了GPIOA引脚为输入上拉模式，用于读取按键状态。
超声波传感器初始化：使用超声波传感器SR04检测前方障碍物的距离，两个传感器分别配置在车的不同位置，用于避障。
sr04_gpio_init() 函数配置了用于超声波传感器的GPIO引脚，并且初始化了定时器TIM2，用于精确测量超声波脉冲宽度。
2. 超声波距离测量
两个超声波传感器分别通过csb1() 和csb2() 函数获取前方和侧方的距离。这些函数通过发出超声波并测量回波的时间来计算障碍物的距离，并将其转化为厘米单位。
3. 小车运动控制
小车的运动是通过前进、后退、左转、右转和停止这几种操作实现的。根据传感器读取到的距离，小车能够自动避开障碍物。
当传感器检测到障碍物较近时，车会自动选择停止或转向。
运动控制的逻辑封装在car_forward()、car_back()、car_left()、car_right()和car_stop() 函数中，它们调用了具体的硬件控制代码来驱动DC电机。
4. 串口通讯
支持通过串口接收指令，控制小车的运动。蓝牙模块与USART通信模块结合，能够通过手机APP发送指令来控制小车的前进、后退、转向和蜂鸣器响。
chuankou() 函数处理串口接收到的指令，并做出相应的动作。
串口通信模式（蓝牙控制模式）与手动按键控制模式可以切换。
5. 避障逻辑
避障逻辑通过超声波传感器测得的距离dis1 和dis2 来决定：
如果两侧传感器均检测到障碍物距离小于一定值，小车会选择停止或转向。
get_csb() 函数获取两个传感器的距离数据，并根据距离决定小车的运动状态。
6. 显示和提示功能
LCD1602显示屏实时显示小车的当前状态，包括运动模式（串口或按键控制）、前进方向、以及是否启用了蜂鸣器。
show() 函数负责将这些信息显示到LCD1602上。
蜂鸣器（scan_didi()）根据按键或串口指令进行鸣响提示，提醒用户小车的状态。
